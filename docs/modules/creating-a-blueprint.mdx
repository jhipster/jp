---
<<<<<<< HEAD:modules/creating_a_blueprint.md
layout: default
title: Blueprintの作成
permalink: /modules/creating-a-blueprint/
redirect_from:
  - /creating_a_blueprint.html
  - /modules/creating_a_blueprint.html
sitemap:
    priority: 0.7
    lastmod: 2015-12-05T18:40:00-00:00
---

# <i class="fa fa-cube"></i> Blueprintの作成

JHipsterのBlueprintは、特定のJHipsterサブジェネレータの機能を拡張するために、そのサブジェネレータから[構成](http://yeoman.io/authoring/composability.html)されたYeomanジェネレータです。Blueprintは、サブジェネレータの定義されたゲッターをオーバーライドし、独自のテンプレートと機能を提供できます。
=======
title: Creating a Blueprint
slug: /modules/creating-a-blueprint/
last_update:
  date: 2015-12-05T18:40:00-00:00
---

A JHipster blueprint is a Yeoman generator that is [composed](http://yeoman.io/authoring/composability.html) from a specific JHipster sub-generator to extend the functionality of that sub-generator. The blueprint can override any defined getter of the sub generator and provide its own templates and functionality.
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

JHipsterのBlueprintは、[JHipsterマーケットプレイス](/modules/marketplace/)に`jhipster-blueprint`というラベルで記載されています。

これにより、JHipsterの特定の部分（例えば、クライアントサイドテンプレートのみ）をオーバーライドできるサードパーティのBlueprintを作成できます。

<<<<<<< HEAD:modules/creating_a_blueprint.md
## Blueprintの使用
=======

## Using a blueprint
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

Blueprintを使用するには、次のコマンドを実行します。

```shell
jhipster --blueprints <blueprint name>
```

<<<<<<< HEAD:modules/creating_a_blueprint.md
## Blueprintの生成
=======

## Generating the blueprint
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

組み込みの`generate-blueprint`ジェネレータを使用して、Blueprintを作成することをお勧めします。

```shell
mkdir my-blueprint && cd my-blueprint

jhipster generate-blueprint
```
<<<<<<< HEAD:modules/creating_a_blueprint.md
JHipsterのBlueprintは、依存関係として`generator-jhipster`を持つ必要があり、それをオーバーライドするために適切なサブジェネレータをインポートする必要があります。
=======

A JHipster blueprint must have `generator-jhipster` as a dependency and should import the appropriate sub-generator to override it.
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

```js
import chalk from 'chalk';
import ClientGenerator from 'generator-jhipster/generators/client';

export default class extends ClientGenerator {
  constructor(args, opts, features) {
    super(args, opts, features);

    if (this.options.help) return;

    if (!this.options.jhipsterContext) {
      throw new Error(`This is a JHipster blueprint and should be used only like ${chalk.yellow('jhipster --blueprints myBlueprint')}`);
    }
  }

  get [ClientGenerator.INITIALIZING]() {
    return {
      // async preInitializingTemplateTask() {},
      ...super._initializing(),
      // async postInitializingTemplateTask() {},
    };
  }

  // その他の優先順位は簡潔にするため省略しています
}
```

<<<<<<< HEAD:modules/creating_a_blueprint.md
## Local Blueprint
=======

## Local Blueprints
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

Local Blueprintは、プロジェクトの`.blueprint`ディレクトリ内に実装されます。デフォルトで検出され、使用されます。

Kickstartで[Blueprintの生成](#generating-the-blueprint)を使用するか、次のコマンドを実行します。

```shell
jhipster generate-blueprint --local-blueprint --sub-generators app --all-priorities
```

複数のサブジェネレータは、複数の機能を編成するのに便利です。LocalのBlueprintはスコープが限られている（アプリケーション）ため、アプリケーション（クライアントとサーバ）をカスタマイズするには、メインのサブジェネレータ1つで十分でしょう。

<<<<<<< HEAD:modules/creating_a_blueprint.md
## 開発
=======

## Developing
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

### 優先順位

JHipsterから優先順位をカスタマイズする方法はいくつかあります。

<<<<<<< HEAD:modules/creating_a_blueprint.md
1) JHipsterに優先順位を処理させます。Blueprintは何も上書きしません。
=======
1. Let JHipster handle the priority, blueprint doesn't override anything.
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

```js
get [Generator.INITIALIZING]() {
  return super.initializing;
}
```

2. Override the entire priority, this is when the blueprint takes control of a priority.

```js
get [Generator.INITIALIZING]() {
  return {
    myCustomInitPriorityStep() {
      // Do all your stuff here
    },
    myAnotherCustomInitPriorityStep(){
      // Do all your stuff here
    }
  };
}
```

<<<<<<< HEAD:modules/creating_a_blueprint.md
2) 優先順位全体を上書きします。これは、Blueprintが優先順位を制御する場合です。

```javascript
  get [Generator.INITIALIZING]() {
    return {
      myCustomInitPriorityStep() {
        // ここですべての作業を行います。
      },
      myAnotherCustomInitPriorityStep(){
        // ここですべての作業を行います。
      }
    };
  }
```

3) 優先順位を部分的にオーバーライドします。これは、BlueprintがJHipsterから優先順位を取得し、それをカスタマイズする場合となります。

```javascript
    get [Generator.INITIALIZING]() {
        return {
            ...super._initializing(),
            displayLogo() {
                // JHipsterの初期化優先度からdisplayLogoメソッドをオーバーライドします。
            },
            myCustomInitPriorityStep() {
                // ここですべての作業を行います。
            },
        };
    }
```

4) 優先順位を装飾します。これは、JHipsterからの優先順位の前または後に、Blueprintがカスタムステップを実行する場合です。
=======
3. Partially override a priority, this is when the blueprint gets the priority from JHipster and customizes it.

```js
get [Generator.INITIALIZING]() {
  return {
    ...super._initializing(),
    displayLogo() {
      // override the displayLogo method from the initializing priority of JHipster
    },
    myCustomInitPriorityStep() {
      // Do all your stuff here
    },
  };
}
```

4. Decorate a priority, this is when the blueprint runs custom steps before or after the priority coming from JHipster.
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx

これは、派生プロパティを生成するための優先順位付けで使用されるプロパティをカスタマイズするのに便利です。

<<<<<<< HEAD:modules/creating_a_blueprint.md
```javascript
    // 親ステップの前または後、あるいはその両方でBlueprint・ステップを実行します。
    get initializing() {
        return {
            myCustomPreInitStep() {
                // JHipsterステップの「前に」行うべき処理です。
                // 例:nameCapitalized、nameLowercaseなどを生成する名前を設定します。
            }
            ...super._initializing(),
            myCustomPostInitStep() {
                // JHipsterステップの「後に」行う処理です。
            }
        };
=======
```js
// Run the blueprint steps before and/or after any parent steps
get initializing() {
  return {
    myCustomPreInitStep() {
      // Stuff to do BEFORE the JHipster steps
      // Eg: set name that will generate nameCapitalized, nameLowercase, etc.
>>>>>>> upstream/main:docs/modules/creating-a-blueprint.mdx
    }
    ...super._initializing(),
    myCustomPostInitStep() {
      // Stuff to do AFTER the JHipster steps
    }
  };
}
```
